(function(){var f=0,a,i;var e=function(l){if(typeof l==="string"){return document.getElementById(l)}else{return l}};function b(l){if(typeof l!=="string"){throw"trim need a string as parameter"}if(typeof l.trim==="function"){return l.trim()}else{return l.replace(/^(\u3000|\s|\t|\u00A0)*|(\u3000|\s|\t|\u00A0)*$/g,"")}}function c(l,o,n){var m=e(l);if(m==null){return false}o=o||"click";if((typeof n).toLowerCase()!="function"){return}if(m.attachEvent){m.attachEvent("on"+o,n)}else{if(m.addEventListener){m.addEventListener(o,n,false)}else{m["on"+o]=n}}return true}function g(m,q){var p=b(m).split("&");var n={};var r=function(s){if(q){return decodeURIComponent(s)}else{return s}};for(var o=0,l=p.length;o<l;o++){if(p[o]){_hsh=p[o].split("=");_key=_hsh[0];_value=_hsh[1];if(_hsh.length<2){_value=_key;_key="$nullName"}if(!n[_key]){n[_key]=r(_value)}else{if($.core.arr.isArray(n[_key])!=true){n[_key]=[n[_key]]}n[_key].push(r(_value))}}}return n}function h(q,n){var p=function(t,s){t=t==null?"":t;t=b(t.toString());if(s){return encodeURIComponent(t)}else{return t}};var r=[];if(typeof q=="object"){for(var m in q){if(q[m] instanceof Array){for(var o=0,l=q[m].length;o<l;o++){r.push(m+"="+p(q[m][o],n))}}else{if(typeof q[m]!="function"){r.push(m+"="+p(q[m],n))}}}}if(r.length){return r.join("&")}else{return""}}var k=function(){if(window.postMessage){c(window,"message",j)}else{d(window,"name")}};var d=function(l,p){var o="";function m(q){var r=q.split("^").pop().split("&");return{domain:r[0],data:window.unescape(r[1])}}function n(){var q=l[p];if(q!=o){o=q;j(m(q))}}a=setInterval(n,1000/20)};var j=function(m){m=m||window.event;var n=unescape(m.data);var l=g(n);i&&i(l)};k();window.XD={};XD.sendMessage=function(n,l){if(!n){return}if(typeof n!="object"){return}var m=h(l);m=escape(m);if(window.postMessage){n.postMessage(m,"*")}else{n.name=(new Date()).getTime()+(f++)+"^"+document.domain+"&"+window.escape(m)}};XD.receiveMessage=function(l){i=l};var i=function(l){var m=document.getElementById(l.id);if(m.getAttribute("frame_width")=="auto"&&l.width){m.style.width=l.width}if(m.getAttribute("frame_height")=="auto"&&l.height){m.style.height=l.height}m.scrollIntoView(true)};XD.receiveMessage(i)})();